<div class="overlay h-screen w-full bg-black bg-opacity-50 fixed top-0 z-10 flex items-center justify-center @(IsOpen ? "" : "hidden")">
    <div class="modal z-20 bg-white m-4 w-screen rounded-md shadow-lg absolute top-8 max-h-5/6 overflow-y-auto @ModelSize">
        @if(Header != null)
        {
            <div class="modal-header p-10 text-2xl bg-gray-800 text-white rounded-t-md font-bold">
                @Header
            </div>
        }
        @if(Body != null)
        {
            <div class="modal-body py-10 px-16">
                @Body
            </div>
        }
        @if(Footer != null)
        {
            <div class="modal-footer">
                <div class="flex flex-row">
                    @Footer
                </div>
            </div>
        }
    </div>
</div>

<style>
    .max-h-1\/6 {
        max-height: calc(1/6 * 100%);
    }

    .max-h-2\/6 {
        max-height: calc(2/6 * 100%);
    }

    .max-h-3\/6 {
        max-height: calc(3/6 * 100%);
    }

    .max-h-4\/6 {
        max-height: calc(4/6 * 100%);
    }

    .max-h-5\/6 {
        max-height: calc(5/6 * 100%);
    }

    .hidden {
        display: none !important;
    }
</style>
@code {

    public enum Size { Small, Medium, Large, Larger, Largest };

    [Parameter]
    public RenderFragment Header { get; set; }

    [Parameter]
    public RenderFragment Body { get; set; }

    [Parameter]
    public RenderFragment Footer { get; set; }

    [Parameter]
    public Size ModelWidth { get; set; } = Size.Large;

    [Parameter]
    public bool IsOpen { get; set; } = true;

    public string ModelSize { get; set; }

    protected override void OnInitialized()
    {
        switch (ModelWidth)
        {
            case Size.Small:
                ModelSize = "max-w-sm";
                break;
            case Size.Medium:
                ModelSize = "max-w-lg";
                break;
            case Size.Large:
                ModelSize = "max-w-2xl";
                break;
            case Size.Larger:
                ModelSize = "max-w-4xl";
                break;
            case Size.Largest:
                ModelSize = "max-w-7xl";
                break;
            default:
                break;
        }
    }
}
